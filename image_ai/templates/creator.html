<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Creation</title>
</head>
<body class="fw-bold" style="background-color: rgb(249, 244, 238);">
    <h1 class="text-center fs-1 fw-bold fst-italic mt-2">Your Creativity our Tools</h1>
    <h1 class=" fst-italic mt-2 mb-2">Welcome user <div id="user-info"> </div></h1> 
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark mx-3  mb-3 w-50 rounded-pill ">
        <div class="container-fluid">
          <a class="nav-link active" href="#">New Creation</a>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav nav ">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Your Creations</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="#">MarketPlace</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
        
        <form action="/upload" method="POST" enctype="multipart/form-data">  
        <div class="container text-center border border-dark">
            <div class="row ">
              <div class="col border border-dark border-3">
                <label for="image">Choose 1st Image:</label>
        <input class="mb-3" type="file" id="image" name="image" accept="image/*" onchange="previewImage(this)" >
        <br >        
        <div id="img-prev" style=" display: none; " class="">
            <img id="preview-image" src="" alt="Preview image" class="" style="height: 300px; width: 300px;">
             </div>
        <div id="success-message" style="display: none; color: green;">
            File uploaded successfully!
        </div>
              </div>
              <div class="col border border-dark border-3">
                <label for="image">Choose 2nd Image:</label>
        <input class="mb-3" type="file" id="image1" name="image1" accept="image/*" onchange="previewImage1(this)" >
        <br>
        <div id="img-prev1" style=" display: none;" class="">
            <img id="preview-image1" src="" alt="Preview image1" style="height: 300px; width: 300px;">
             </div>
        <div id="success-message" style="display: none; color: green;">
            File uploaded successfully!
        </div>
              </div>  
              </div>
              </div>
              <br>

              <button type="button" class="btn btn-dark mx-auto d-flex justify-content-center" > CLICK FOR MAGIC</button> 

        

        
        </form>
    <script>
        
        const form = document.querySelector('form');
        const successMessage = document.getElementById('success-message');
        const urlParams = new URLSearchParams(window.location.search);
        const username = urlParams.get('username');
        const displaydiv=document.getElementById('img-prev')
        const displaydiv1=document.getElementById('img-prev1')
        document.getElementById('username').textContent = `Username: ${username}`; //this functionality not working as of now.
        

        form.addEventListener('submit', function (e) {     //changing the message status
            e.preventDefault();

            setTimeout(function () {
                
                successMessage.style.display = 'block';
            }, 2000); 
        });

        function previewImage(input) {         // changing the image preview none->display
            const file = input.files[0];
            const reader = new FileReader();
            displaydiv.style.display = 'block';

            reader.onload = function(e) {
                document.getElementById('preview-image').src = e.target.result;
            };
            reader.readAsDataURL(file);
}
            function previewImage1(input) {         // changing the image preview none->display
            const file = input.files[0];
            const reader = new FileReader();
            displaydiv1.style.display = 'block';

            reader.onload = function(e) {
                document.getElementById('preview-image1').src = e.target.result;
            };
            reader.readAsDataURL(file);
            }
        
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
</body>
</html>